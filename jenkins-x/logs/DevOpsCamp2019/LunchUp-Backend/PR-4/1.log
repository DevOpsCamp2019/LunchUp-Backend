
Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-4s9jp[0m
{"level":"warn","ts":1572974334.3674567,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572974334.3681023,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-cxwql[0m
{"level":"warn","ts":1572974335.143158,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1572974335.1462004,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-devopscamp2019-lunchup-backend-rg7xk[0m
{"level":"warn","ts":1572974341.3180985,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572974343.1456056,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/DevOpsCamp2019/LunchUp-Backend.git @ master in path /workspace/source"}

Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:ebb9c7c9d1ff019ee673fa15a534a77532977b8d,4:3f4dea1cacaa4260166b0321d8667c1c878db989
DEBUG: ran git fetch --unshallow origin 3f4dea1cacaa4260166b0321d8667c1c878db989: ebb9c7c9d1ff019ee673fa15a534a77532977b8d: in 
DEBUG: ran git checkout master in 
DEBUG: ran git reset --hard ebb9c7c9d1ff019ee673fa15a534a77532977b8d in 
DEBUG: ran clean --force -d . in 
DEBUG: ran git merge 3f4dea1cacaa4260166b0321d8667c1c878db989 in 
Merged SHA 4addddcd268249b52a91cb98cc6cb52c6709883d with commit message 'Merge commit '3f4dea1cacaa4260166b0321d8667c1c878db989'' into base branch master
Merged SHA 3f4dea1cacaa4260166b0321d8667c1c878db989 with commit message 'add dummy notes to readme' into base branch master
Merged SHA cbaa5bbffe2014cba094d3873289783dbd1047eb with commit message 'replace env separator : with __' into base branch master
Merged SHA 061fe59d054a8275496166d39ff95e399697ddd2 with commit message 'put port in quotes' into base branch master
Merged SHA 8297e7c3f7a8b77a0b3bba60239585ef7c5ae48a with commit message 'Merge remote-tracking branch 'origin/master' into feature/postgres_charts' into base branch master
Merged SHA a88e52ef756dbecd610df6cec16c15d9bf9b01a9 with commit message 'add env variables to deployment.yaml' into base branch master
Merged SHA 5bd1bc578b64bc8425e4607ba4c96759881a3725 with commit message 'change userid to bitnami id' into base branch master
Merged SHA bd95a7d2a7b585aeeb82b391b012ca3f5de61fa3 with commit message 'add postgres security context' into base branch master
Merged SHA 72c8eb739f97c548c4f2af3824f1dff73b929cec with commit message 'add postgres username and password' into base branch master
Merged SHA c579c78ad163cd0eb6978470e94abf332db14479 with commit message 'Add version to preview chart.yaml' into base branch master
Merged SHA c5c65d63bb4d8fdd1bc0ba412bed42d4bfd565b1 with commit message 'add potential workaround for mysterious file not found issue' into base branch master
Merged SHA 0b77589002f82cc6dbf9e015c0b19d4f6aee2a2f with commit message 'add alias and move postgres above preview dependency' into base branch master
Merged SHA 7f24541484a5880e8e11c7182ac035d7e42bd1fd with commit message 'add postrgres to requirements.yml' into base branch master

Showing logs for build [32mdevopscamp2019-lunchup-backend-gr5xx-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
ERROR: logging before flag.Parse: E1105 17:19:11.825078       9 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1105 17:19:11.829064       9 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/11/05 17:19:11 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:803b70d9de2c57a168af4cc7d44e77a9c0591b49ce2af73d50c344aa22048eda: no such file or directory 
[36mINFO[0m[0001] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
2019/11/05 17:19:12 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] WORKDIR /app                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /app            
[36mINFO[0m[0002] Creating directory /app                      
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] EXPOSE 80                                    
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 443                                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Storing source image from stage 0 at path /kaniko/stages/0 
[36mINFO[0m[0020] Deleting filesystem...                       
[36mINFO[0m[0020] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/05 17:19:31 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0020] Error while retrieving image from cache: getting file info: stat /workspace/sha256:65c0187e27b42bc45ea5ef98226c7ef37d1b706e10031ddce377bf6da3dcd9aa: no such file or directory 
[36mINFO[0m[0020] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/05 17:19:32 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0021] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0021] Checking for cached layer gcr.io/deliverymachine/cache:e31f67de9fae5adf1d7b0358954c4a2964bdd47189ad093a6add3acad6a37f52... 
[36mINFO[0m[0022] Using caching version of cmd: RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0022] Using files from context: [/workspace/source] 
[36mINFO[0m[0022] Checking for cached layer gcr.io/deliverymachine/cache:b6a0f000971161ef43e8efc1169020df8c001fe004907ef965d845834e082a42... 
[36mINFO[0m[0023] No cached layer found for cmd RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0023] Unpacking rootfs as cmd RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build requires it. 
[36mINFO[0m[0057] Taking snapshot of full filesystem...        
[36mINFO[0m[0064] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0064] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0064] WORKDIR /src                                 
[36mINFO[0m[0064] cmd: workdir                                 
[36mINFO[0m[0064] Changed working directory to /src            
[36mINFO[0m[0064] Creating directory /src                      
[36mINFO[0m[0064] Taking snapshot of files...                  
[36mINFO[0m[0064] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0064] COPY ["src/LunchUp.Backend/", "LunchUp.Backend/"] 
[36mINFO[0m[0064] Taking snapshot of files...                  
[36mINFO[0m[0064] RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0064] Found cached layer, extracting to filesystem 
[36mINFO[0m[0074] Taking snapshot of files...                  
[36mINFO[0m[0083] Using files from context: [/workspace/source] 
[36mINFO[0m[0083] COPY . .                                     
[36mINFO[0m[0083] Taking snapshot of files...                  
[36mINFO[0m[0083] WORKDIR "/src/LunchUp.Backend"               
[36mINFO[0m[0083] cmd: workdir                                 
[36mINFO[0m[0083] Changed working directory to /src/LunchUp.Backend 
[36mINFO[0m[0083] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0083] RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0083] cmd: /bin/sh                                 
[36mINFO[0m[0083] args: [-c dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 32.59 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 31.41 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 2.73 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
  LunchUp.Model -> /app/build/LunchUp.Model.dll
  LunchUp.Core -> /app/build/LunchUp.Core.dll
DatabaseSettings.cs(4,18): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(6,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Database' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(7,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Host' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(8,20): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Port' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(9,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Username' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(10,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Password' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
  LunchUp.WebHost -> /app/build/LunchUp.WebHost.dll

Build succeeded.

DatabaseSettings.cs(4,18): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(6,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Database' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(7,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Host' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(8,20): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Port' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(9,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Username' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
DatabaseSettings.cs(10,23): warning CS1591: Missing XML comment for publicly visible type or member 'DatabaseSettings.Password' [/src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj]
    6 Warning(s)
    0 Error(s)

Time Elapsed 00:00:07.23
[36mINFO[0m[0091] Taking snapshot of full filesystem...        
[36mINFO[0m[0096] ignoring socket dotnet-diagnostic-92-559998-socket, not adding to tar 
[36mINFO[0m[0096] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0096] ignoring socket dotnet-diagnostic-65-559729-socket, not adding to tar 
[36mINFO[0m[0097] Pushing layer gcr.io/deliverymachine/cache:b6a0f000971161ef43e8efc1169020df8c001fe004907ef965d845834e082a42 to cache now 
2019/11/05 17:20:55 pushed blob: sha256:24ef7578f247927d81ac4ff07a382dd6c8ed3a44f32c09fccb2501fdce4a9f01
2019/11/05 17:20:55 pushed blob: sha256:d40a4a9bed2981e81eaab498a3ebbd09e9c12127326e4b89a5cf916931ef3558
2019/11/05 17:20:57 gcr.io/deliverymachine/cache:b6a0f000971161ef43e8efc1169020df8c001fe004907ef965d845834e082a42: digest: sha256:e4b35a0e78b36e8d5a4ae4a769f17316dccaf1e2d5e12f9ae7432bb40587ba6f size: 429
[36mINFO[0m[0105] Storing source image from stage 1 at path /kaniko/stages/1 
error building image: read tcp 10.0.11.55:44140->52.240.48.36:443: read: connection timed out
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-build-container-build'. The execution of the pipeline has stopped.[0m
