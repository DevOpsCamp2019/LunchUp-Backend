
Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-g2798[0m
{"level":"warn","ts":1572879772.0133674,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572879772.0138335,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-ph2sg[0m
{"level":"warn","ts":1572879772.9983487,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1572879772.9995794,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-devopscamp2019-lunchup-backend-v5smz[0m
{"level":"warn","ts":1572879779.943414,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572879781.495268,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/DevOpsCamp2019/LunchUp-Backend.git @ v0.0.4 in path /workspace/source"}

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:fc0f57d762779f705569cb25d095dc3f66a5d12e
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
ERROR: logging before flag.Parse: E1104 15:03:04.425533       9 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1104 15:03:04.428928       9 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/11/04 15:03:04 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:803b70d9de2c57a168af4cc7d44e77a9c0591b49ce2af73d50c344aa22048eda: no such file or directory 
[36mINFO[0m[0001] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
2019/11/04 15:03:05 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] WORKDIR /app                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /app            
[36mINFO[0m[0002] Creating directory /app                      
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] EXPOSE 80                                    
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 443                                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Storing source image from stage 0 at path /kaniko/stages/0 
[36mINFO[0m[0016] Deleting filesystem...                       
[36mINFO[0m[0016] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/04 15:03:20 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0017] Error while retrieving image from cache: getting file info: stat /workspace/sha256:65c0187e27b42bc45ea5ef98226c7ef37d1b706e10031ddce377bf6da3dcd9aa: no such file or directory 
[36mINFO[0m[0017] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/04 15:03:21 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0017] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0017] Checking for cached layer gcr.io/deliverymachine/cache:5981d79b009e7c85cc80724b49ced15230a37f32b693f85d17c7b2809f55bf6c... 
[36mINFO[0m[0018] No cached layer found for cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0018] Unpacking rootfs as cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" requires it. 
[36mINFO[0m[0048] Taking snapshot of full filesystem...        
[36mINFO[0m[0054] WORKDIR /src                                 
[36mINFO[0m[0054] cmd: workdir                                 
[36mINFO[0m[0054] Changed working directory to /src            
[36mINFO[0m[0054] Creating directory /src                      
[36mINFO[0m[0054] Taking snapshot of files...                  
[36mINFO[0m[0054] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0054] COPY ["src/LunchUp.Backend/", "LunchUp.Backend/"] 
[36mINFO[0m[0054] Taking snapshot of files...                  
[36mINFO[0m[0054] RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0054] cmd: /bin/sh                                 
[36mINFO[0m[0054] args: [-c dotnet restore "LunchUp.Backend/LunchUp.Backend.sln"] 
  Restore completed in 113.53 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 111.71 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 2.83 ms for /src/LunchUp.Backend/LunchUp.Scheduler/LunchUp.Scheduler.csproj.
  Restore completed in 3.29 sec for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
[36mINFO[0m[0060] Taking snapshot of full filesystem...        
[36mINFO[0m[0064] ignoring socket dotnet-diagnostic-61-568470-socket, not adding to tar 
[36mINFO[0m[0067] Using files from context: [/workspace/source] 
[36mINFO[0m[0067] COPY . .                                     
[36mINFO[0m[0067] Taking snapshot of files...                  
[36mINFO[0m[0067] Pushing layer gcr.io/deliverymachine/cache:5981d79b009e7c85cc80724b49ced15230a37f32b693f85d17c7b2809f55bf6c to cache now 
[36mINFO[0m[0067] WORKDIR "/src/LunchUp.Backend"               
[36mINFO[0m[0067] cmd: workdir                                 
[36mINFO[0m[0067] Changed working directory to /src/LunchUp.Backend 
[36mINFO[0m[0067] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0067] RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0067] cmd: /bin/sh                                 
[36mINFO[0m[0067] args: [-c dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 46.12 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
2019/11/04 15:04:15 pushed blob: sha256:b2e92c0cd98a861b97c96f47d65a1879c124ea6c0200f346eb5066f320d10a86
  LunchUp.WebHost -> /app/build/LunchUp.WebHost.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:05.44
[36mINFO[0m[0073] Taking snapshot of full filesystem...        
[36mINFO[0m[0074] Adding whiteout for /root/.dotnet/TelemetryStorageService/20191104150359_326c141e952c4af9aee16060ccb1024d.trn 
2019/11/04 15:04:21 pushed blob: sha256:e62bb11806c3f7fc5c186b6bfb480d8869f64b89c46a442cca89defbf71111fd
[36mINFO[0m[0077] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0077] ignoring socket dotnet-diagnostic-138-569912-socket, not adding to tar 
[36mINFO[0m[0077] Pushing layer gcr.io/deliverymachine/cache:7aba3c62c78db29a36f92a2edf01e061b4e8e51cd685d6c9f06f615351ab58bb to cache now 
2019/11/04 15:04:22 gcr.io/deliverymachine/cache:5981d79b009e7c85cc80724b49ced15230a37f32b693f85d17c7b2809f55bf6c: digest: sha256:44d2a996a30bf727b92e22a15b0bfb27acf468e764e4a6cc921f469ba12ebaa3 size: 429
2019/11/04 15:04:25 pushed blob: sha256:3ec0f234873fd25557ff81a57cafb94a5063fb3ecaa913796e317d9e0e581ac8
2019/11/04 15:04:25 pushed blob: sha256:098b59615ecd5a715b9f4385eeee0aab84f03d841db6fbc36b5e7d839cf926b6
2019/11/04 15:04:27 gcr.io/deliverymachine/cache:7aba3c62c78db29a36f92a2edf01e061b4e8e51cd685d6c9f06f615351ab58bb: digest: sha256:c871d0263ccb8397e5485e269111adc29457cc134bb8fad6a53586209d28d320 size: 428
[36mINFO[0m[0083] Storing source image from stage 1 at path /kaniko/stages/1 
[36mINFO[0m[0130] Deleting filesystem...                       
[36mINFO[0m[0132] Base image from previous stage 1 found, using saved tar at path /kaniko/stages/1 
[36mINFO[0m[0133] Checking for cached layer gcr.io/deliverymachine/cache:4ac628fa4c66b7cbecb7061597b79faae025e73b5b998df892207e2d9d1d6a67... 
[36mINFO[0m[0133] No cached layer found for cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0133] Unpacking rootfs as cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish requires it. 
[36mINFO[0m[0146] Taking snapshot of full filesystem...        
[36mINFO[0m[0154] RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0154] cmd: /bin/sh                                 
[36mINFO[0m[0154] args: [-c dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 24.09 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
  LunchUp.WebHost -> /src/LunchUp.Backend/LunchUp.WebHost/bin/Release/netcoreapp3.0/LunchUp.WebHost.dll
  LunchUp.WebHost -> /app/publish/
[36mINFO[0m[0156] Taking snapshot of full filesystem...        
[36mINFO[0m[0159] Pushing layer gcr.io/deliverymachine/cache:4ac628fa4c66b7cbecb7061597b79faae025e73b5b998df892207e2d9d1d6a67 to cache now 
2019/11/04 15:05:47 pushed blob: sha256:0dbe555d47e52f91a80cecfa7f50726edac129cd9a552288b1efb40401792e37
2019/11/04 15:05:49 pushed blob: sha256:1125eeb1144b6bd4cf23b65c29199ffedf34faffc0e90619edaee46b573cc13e
2019/11/04 15:05:50 gcr.io/deliverymachine/cache:4ac628fa4c66b7cbecb7061597b79faae025e73b5b998df892207e2d9d1d6a67: digest: sha256:e946a2e4e4b4758574ea16b562a3d5736b8431f1558e7d03791e505d0d2b55f4 size: 428
[36mINFO[0m[0166] Storing source image from stage 2 at path /kaniko/stages/2 
[36mINFO[0m[0181] Deleting filesystem...                       
[36mINFO[0m[0182] Base image from previous stage 0 found, using saved tar at path /kaniko/stages/0 
[36mINFO[0m[0182] Skipping unpacking as no commands require it. 
[36mINFO[0m[0182] Taking snapshot of full filesystem...        
[36mINFO[0m[0188] WORKDIR /app                                 
[36mINFO[0m[0188] cmd: workdir                                 
[36mINFO[0m[0188] Changed working directory to /app            
[36mINFO[0m[0188] Creating directory /app                      
[36mINFO[0m[0188] Taking snapshot of files...                  
[36mINFO[0m[0188] COPY --from=publish /app/publish .           
[36mINFO[0m[0188] Taking snapshot of files...                  
[36mINFO[0m[0188] ENTRYPOINT ["dotnet", "LunchUp.WebHost.dll"] 
[36mINFO[0m[0188] No files changed in this command, skipping snapshotting. 
2019/11/04 15:06:12 existing blob: sha256:7a6b64767b0b4ec3bb235712bc93f6cada4812dbfec432d98ca9c485f9ce2ea8
2019/11/04 15:06:12 existing blob: sha256:8d691f585fa8cec0eba196be460cfaffd69939782d6162986c3e0c5225d54f02
2019/11/04 15:06:12 existing blob: sha256:a9e6ceefc5a08dc7b1b04a1105c47e00e9340349177009bc8926571ee8a39204
2019/11/04 15:06:12 existing blob: sha256:68f6aee67b9130df079abf2476334ad9474e116c69efedd19e272bbff3643971
2019/11/04 15:06:12 existing blob: sha256:9526604e089d8d4aa947f34e52a14ac8793232dd181022932f3c15291c5cd3af
2019/11/04 15:06:16 pushed blob: sha256:335cb6444d796d688b574f33d55ce284ea48e20c4a0bb794afc5c2174f3f2905
2019/11/04 15:06:16 pushed blob: sha256:7ffd6bd010e41d7bb3585f1acead6e302a1f1eb20b7a04b2ad733c244c89a2bf
2019/11/04 15:06:16 pushed blob: sha256:fa1c97bfa654c4280727531f11edd36ee8f0c974a08f33a437f75321ca631c32
2019/11/04 15:06:17 pushed blob: sha256:2d970378acdb90b5074b4a5345a925cf79976266430dd8d1afd914397a13d806
2019/11/04 15:06:18 gcr.io/deliverymachine/lunchup-backend:0.0.4: digest: sha256:88383c4911a23c9751cca66ea413219cc96f3d300e21dc1db8d66b2e2583e0f7 size: 1571

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/lunchup-backend to an unshallow repository
Generating change log from git ref 0eb4520cb9514d2cc4c4633b72af6a801b293105 => 6e978387e7c1d80a5a58d6b0c740f646f7a46ffb
WARNING: Failed to enrich commit fc0f57d762779f705569cb25d095dc3f66a5d12e with issues: users.jenkins.io "x-0" already exists
WARNING: Failed to enrich commit fc0f57d762779f705569cb25d095dc3f66a5d12e with issues: users.jenkins.io "x-0" already exists
Finding issues in commit messages using git format
WARNING: No release found for DevOpsCamp2019/LunchUp-Backend and tag v0.0.4 so creating a new release
Updated the release information at https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.0.4
generated: /workspace/source/charts/lunchup-backend/templates/release.yaml
Created Release lunchup-backend-0-0-4 resource in namespace **
Updating PipelineActivity devopscamp2019-lunchup-backend-master-4 with version 0.0.4
Updated PipelineActivities devopscamp2019-lunchup-backend-master-4 with release notes URL: https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.0.4

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file lunchup-backend-0.0.4.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32mdevopscamp2019-lunchup-backend-ww268-4[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
Promoting app lunchup-backend version 0.0.4 to namespace **-staging
Created Pull Request: https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
Added label updatebot to Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9
Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/9 is merged at sha 1a89ba29feb7823c9bb5ef07902d59a2a0310b99
Pull Request merged but we are not waiting for the update pipeline to complete!
