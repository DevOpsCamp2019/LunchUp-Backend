
Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-nwh76[0m
{"level":"warn","ts":1573117874.6635702,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1573117874.6643305,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-4b246[0m
{"level":"warn","ts":1573117875.6652849,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1573117875.668649,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-devopscamp2019-lunchup-backend-j7mpc[0m
{"level":"warn","ts":1573117882.7548091,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1573117883.575029,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/DevOpsCamp2019/LunchUp-Backend.git @ v0.1.7 in path /workspace/source"}

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:b181b38bdd0c00c7ba7efd1553738f33e22db819
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
ERROR: logging before flag.Parse: E1107 09:11:25.792262      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1107 09:11:25.795848      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/11/07 09:11:25 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:803b70d9de2c57a168af4cc7d44e77a9c0591b49ce2af73d50c344aa22048eda: no such file or directory 
[36mINFO[0m[0001] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
2019/11/07 09:11:26 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] WORKDIR /app                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /app            
[36mINFO[0m[0002] Creating directory /app                      
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] EXPOSE 80                                    
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 443                                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Storing source image from stage 0 at path /kaniko/stages/0 
[36mINFO[0m[0022] Deleting filesystem...                       
[36mINFO[0m[0022] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/07 09:11:48 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0023] Error while retrieving image from cache: getting file info: stat /workspace/sha256:65c0187e27b42bc45ea5ef98226c7ef37d1b706e10031ddce377bf6da3dcd9aa: no such file or directory 
[36mINFO[0m[0023] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/07 09:11:49 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0024] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0024] Checking for cached layer gcr.io/deliverymachine/cache:51fc791bf2dab688df4dff34e3cae61a3c8ca6ebce2089eab358fc347ff64cc7... 
[36mINFO[0m[0024] No cached layer found for cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0024] Unpacking rootfs as cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" requires it. 
[36mINFO[0m[0063] Taking snapshot of full filesystem...        
[36mINFO[0m[0071] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0071] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0071] WORKDIR /src                                 
[36mINFO[0m[0071] cmd: workdir                                 
[36mINFO[0m[0071] Changed working directory to /src            
[36mINFO[0m[0071] Creating directory /src                      
[36mINFO[0m[0071] Taking snapshot of files...                  
[36mINFO[0m[0071] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0071] COPY ["src/LunchUp.Backend/", "LunchUp.Backend/"] 
[36mINFO[0m[0071] Taking snapshot of files...                  
[36mINFO[0m[0071] RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0071] cmd: /bin/sh                                 
[36mINFO[0m[0071] args: [-c dotnet restore "LunchUp.Backend/LunchUp.Backend.sln"] 
  Restore completed in 4.93 sec for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 4.93 sec for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 4.97 sec for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
[36mINFO[0m[0083] Taking snapshot of full filesystem...        
[36mINFO[0m[0091] ignoring socket dotnet-diagnostic-59-16721971-socket, not adding to tar 
[36mINFO[0m[0102] Using files from context: [/workspace/source] 
[36mINFO[0m[0102] COPY . .                                     
[36mINFO[0m[0103] Taking snapshot of files...                  
[36mINFO[0m[0103] WORKDIR "/src/LunchUp.Backend"               
[36mINFO[0m[0103] cmd: workdir                                 
[36mINFO[0m[0103] Changed working directory to /src/LunchUp.Backend 
[36mINFO[0m[0103] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0103] RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0103] cmd: /bin/sh                                 
[36mINFO[0m[0103] args: [-c dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build] 
[36mINFO[0m[0103] Pushing layer gcr.io/deliverymachine/cache:51fc791bf2dab688df4dff34e3cae61a3c8ca6ebce2089eab358fc347ff64cc7 to cache now 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 41.25 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 48.98 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 4.79 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
2019/11/07 09:13:13 pushed blob: sha256:1f07cbcc492c98905cea60fea89e5b36c385af50eb32489211ca1dc73c5a9873
  LunchUp.Model -> /app/build/LunchUp.Model.dll
  LunchUp.Core -> /app/build/LunchUp.Core.dll
  LunchUp.WebHost -> /app/build/LunchUp.WebHost.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:10.66
[36mINFO[0m[0114] Taking snapshot of full filesystem...        
[36mINFO[0m[0123] ignoring socket dotnet-diagnostic-150-16725476-socket, not adding to tar 
[36mINFO[0m[0123] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0123] ignoring socket dotnet-diagnostic-126-16725217-socket, not adding to tar 
[36mINFO[0m[0125] Pushing layer gcr.io/deliverymachine/cache:f8a622eb773f0af60190c6d026575e8545685189925d2a0be4f57009b0fb61bb to cache now 
2019/11/07 09:13:35 pushed blob: sha256:3814a172e8b8772f1e62e196c91b2f49b9c7a720e67e9ea51b67235585674456
2019/11/07 09:13:36 pushed blob: sha256:3920f2a27ea5d9b8573967b4551ef0f3eae14c09b31d52c7fadbbb711ea05f85
2019/11/07 09:13:37 gcr.io/deliverymachine/cache:51fc791bf2dab688df4dff34e3cae61a3c8ca6ebce2089eab358fc347ff64cc7: digest: sha256:6b76011a42a584b31c6d35693cbc8af52edabdde4fe850134289b019c7549ea2 size: 430
2019/11/07 09:13:38 pushed blob: sha256:5c504e1bb916029972f677bdc29268926e3ac877be6f406ccd35521411e36bfd
2019/11/07 09:13:39 gcr.io/deliverymachine/cache:f8a622eb773f0af60190c6d026575e8545685189925d2a0be4f57009b0fb61bb: digest: sha256:a3e25279ef604e6d4e21eeb96988072376986461e059508f370c51c7587dc200 size: 429
[36mINFO[0m[0133] Storing source image from stage 1 at path /kaniko/stages/1 
[36mINFO[0m[0206] Deleting filesystem...                       
[36mINFO[0m[0207] Base image from previous stage 1 found, using saved tar at path /kaniko/stages/1 
[36mINFO[0m[0210] Checking for cached layer gcr.io/deliverymachine/cache:6c8ae4250e6c2fec14db20521db292d5c98ffd8693ee3d68edfc1e8163e1deaa... 
[36mINFO[0m[0210] No cached layer found for cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0210] Unpacking rootfs as cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish requires it. 
[36mINFO[0m[0231] Taking snapshot of full filesystem...        
[36mINFO[0m[0248] RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0248] cmd: /bin/sh                                 
[36mINFO[0m[0248] args: [-c dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 30.67 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 31.45 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 3.06 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
  LunchUp.Model -> /src/LunchUp.Backend/LunchUp.Model/bin/Release/netcoreapp3.0/LunchUp.Model.dll
  LunchUp.Core -> /src/LunchUp.Backend/LunchUp.Core/bin/Release/netcoreapp3.0/LunchUp.Core.dll
  LunchUp.WebHost -> /src/LunchUp.Backend/LunchUp.WebHost/bin/Release/netcoreapp3.0/LunchUp.WebHost.dll
  LunchUp.WebHost -> /app/publish/
[36mINFO[0m[0252] Taking snapshot of full filesystem...        
[36mINFO[0m[0257] ignoring socket dotnet-diagnostic-229-16739692-socket, not adding to tar 
[36mINFO[0m[0259] Pushing layer gcr.io/deliverymachine/cache:6c8ae4250e6c2fec14db20521db292d5c98ffd8693ee3d68edfc1e8163e1deaa to cache now 
2019/11/07 09:15:49 pushed blob: sha256:158d467c67325091e58ad89b923eb8fca2c99bff97cc2621b8bae09f42c464fd
2019/11/07 09:15:54 pushed blob: sha256:206e0832de61fc13d2b41f1bef492ecef030b601c32a37548dd26de201128846
2019/11/07 09:15:56 gcr.io/deliverymachine/cache:6c8ae4250e6c2fec14db20521db292d5c98ffd8693ee3d68edfc1e8163e1deaa: digest: sha256:6e98b38ff798767163b792eacf0d47bf0cd44771b28f26e57daf2391b671f118 size: 429
[36mINFO[0m[0270] Storing source image from stage 2 at path /kaniko/stages/2 
[36mINFO[0m[0320] Deleting filesystem...                       
[36mINFO[0m[0322] Base image from previous stage 0 found, using saved tar at path /kaniko/stages/0 
[36mINFO[0m[0324] Skipping unpacking as no commands require it. 
[36mINFO[0m[0324] Taking snapshot of full filesystem...        
[36mINFO[0m[0324] WORKDIR /app                                 
[36mINFO[0m[0324] cmd: workdir                                 
[36mINFO[0m[0324] Changed working directory to /app            
[36mINFO[0m[0324] Creating directory /app                      
[36mINFO[0m[0324] Taking snapshot of files...                  
[36mINFO[0m[0324] COPY --from=publish /app/publish .           
[36mINFO[0m[0324] Taking snapshot of files...                  
[36mINFO[0m[0325] ENTRYPOINT ["dotnet", "LunchUp.WebHost.dll"] 
[36mINFO[0m[0325] No files changed in this command, skipping snapshotting. 
2019/11/07 09:16:52 existing blob: sha256:7a6b64767b0b4ec3bb235712bc93f6cada4812dbfec432d98ca9c485f9ce2ea8
2019/11/07 09:16:52 existing blob: sha256:a9e6ceefc5a08dc7b1b04a1105c47e00e9340349177009bc8926571ee8a39204
2019/11/07 09:16:52 existing blob: sha256:68f6aee67b9130df079abf2476334ad9474e116c69efedd19e272bbff3643971
2019/11/07 09:16:52 existing blob: sha256:9526604e089d8d4aa947f34e52a14ac8793232dd181022932f3c15291c5cd3af
2019/11/07 09:16:52 existing blob: sha256:8d691f585fa8cec0eba196be460cfaffd69939782d6162986c3e0c5225d54f02
2019/11/07 09:16:55 pushed blob: sha256:49b4272cdf3e6da94d25cd4996ff3a2538b26e0b205b1f22cd4362291ff4287c
2019/11/07 09:16:55 pushed blob: sha256:7e5cf1ce714b025c00a458c75699a9e3c1fa3929fd432e81b832c5e56ddb3481
2019/11/07 09:16:56 pushed blob: sha256:b1e3822f674b56e1cf8cc6034b3054ecd9e9914dd1471b098c5fca83e3d53a20
2019/11/07 09:16:58 pushed blob: sha256:4b9dd55d8e0ff9cfb7cb95441191e3c94d25d3bd67cafc1a26998630fb9e933d
2019/11/07 09:16:59 gcr.io/deliverymachine/lunchup-backend:0.1.7: digest: sha256:aca68a10da6cfcbb3ab52ab2be8dc43304ba0c68a72401cc4ec53ba42e0f6be8 size: 1572

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/lunchup-backend to an unshallow repository
Generating change log from git ref 47325b18f47dd56ae49c0a85677f41f798cf22a3 => 1ebafa61f93f60282054c1bdddefa4cf8d7b23fb
WARNING: Failed to enrich commit b181b38bdd0c00c7ba7efd1553738f33e22db819 with issues: users.jenkins.io "x-0" already exists
WARNING: Failed to enrich commit b181b38bdd0c00c7ba7efd1553738f33e22db819 with issues: users.jenkins.io "x-0" already exists
Finding issues in commit messages using git format
WARNING: No release found for DevOpsCamp2019/LunchUp-Backend and tag v0.1.7 so creating a new release
Updated the release information at https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.1.7
generated: /workspace/source/charts/lunchup-backend/templates/release.yaml
Created Release lunchup-backend-0-1-7 resource in namespace **
Updating PipelineActivity devopscamp2019-lunchup-backend-master-36 with version 0.1.7
Updated PipelineActivities devopscamp2019-lunchup-backend-master-36 with release notes URL: https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.1.7

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file lunchup-backend-0.1.7.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32mdevopscamp2019-lunchup-backend-p8mm6-36[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
Promoting app lunchup-backend version 0.1.7 to namespace **-staging
Created Pull Request: https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
Added label updatebot to Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47
Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/47 is merged at sha bf7bef64fb5fa254541597464367c4734baa6e7f
Pull Request merged but we are not waiting for the update pipeline to complete!
