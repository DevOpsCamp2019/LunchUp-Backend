
Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-86266[0m
{"level":"warn","ts":1572966849.211072,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572966849.211622,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-zgd8n[0m
{"level":"warn","ts":1572966850.0619085,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1572966850.067481,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-devopscamp2019-lunchup-backend-vl6xm[0m
{"level":"warn","ts":1572966856.1772854,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572966857.705601,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/DevOpsCamp2019/LunchUp-Backend.git @ v0.0.18 in path /workspace/source"}

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:24f9777c7a8544f8d2e4f01e4d6ca72b8a12c4ce
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
ERROR: logging before flag.Parse: E1105 15:14:22.907369      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1105 15:14:22.916317      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/11/05 15:14:22 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:803b70d9de2c57a168af4cc7d44e77a9c0591b49ce2af73d50c344aa22048eda: no such file or directory 
[36mINFO[0m[0001] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
2019/11/05 15:14:23 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] WORKDIR /app                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /app            
[36mINFO[0m[0002] Creating directory /app                      
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] EXPOSE 80                                    
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 443                                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Storing source image from stage 0 at path /kaniko/stages/0 
[36mINFO[0m[0029] Deleting filesystem...                       
[36mINFO[0m[0029] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/05 15:14:52 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0030] Error while retrieving image from cache: getting file info: stat /workspace/sha256:65c0187e27b42bc45ea5ef98226c7ef37d1b706e10031ddce377bf6da3dcd9aa: no such file or directory 
[36mINFO[0m[0030] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/05 15:14:53 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0031] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0031] Checking for cached layer gcr.io/deliverymachine/cache:e35b432812ee4631bc04ce016fcb3c7788da13405466e0bd5db115330a0bd3b5... 
[36mINFO[0m[0031] No cached layer found for cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0031] Unpacking rootfs as cmd RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" requires it. 
[36mINFO[0m[0061] Taking snapshot of full filesystem...        
[36mINFO[0m[0066] WORKDIR /src                                 
[36mINFO[0m[0066] cmd: workdir                                 
[36mINFO[0m[0066] Changed working directory to /src            
[36mINFO[0m[0066] Creating directory /src                      
[36mINFO[0m[0066] Taking snapshot of files...                  
[36mINFO[0m[0066] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0066] COPY ["src/LunchUp.Backend/", "LunchUp.Backend/"] 
[36mINFO[0m[0066] Taking snapshot of files...                  
[36mINFO[0m[0066] RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0066] cmd: /bin/sh                                 
[36mINFO[0m[0066] args: [-c dotnet restore "LunchUp.Backend/LunchUp.Backend.sln"] 
  Restore completed in 5.17 sec for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 5.17 sec for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 5.94 sec for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
[36mINFO[0m[0079] Taking snapshot of full filesystem...        
[36mINFO[0m[0085] ignoring socket dotnet-diagnostic-65-279900-socket, not adding to tar 
[36mINFO[0m[0097] Pushing layer gcr.io/deliverymachine/cache:e35b432812ee4631bc04ce016fcb3c7788da13405466e0bd5db115330a0bd3b5 to cache now 
[36mINFO[0m[0097] Using files from context: [/workspace/source] 
[36mINFO[0m[0097] COPY . .                                     
[36mINFO[0m[0098] Taking snapshot of files...                  
[36mINFO[0m[0098] WORKDIR "/src/LunchUp.Backend"               
[36mINFO[0m[0098] cmd: workdir                                 
[36mINFO[0m[0098] Changed working directory to /src/LunchUp.Backend 
[36mINFO[0m[0098] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0098] RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0098] cmd: /bin/sh                                 
[36mINFO[0m[0098] args: [-c dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 34.56 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 34.57 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 2.83 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
2019/11/05 15:16:04 pushed blob: sha256:6763a0a118775019f6bbfb379ff7f5c77536d7c831bebf71c69544331fdbb32b
  LunchUp.Model -> /app/build/LunchUp.Model.dll
  LunchUp.Core -> /app/build/LunchUp.Core.dll
  LunchUp.WebHost -> /app/build/LunchUp.WebHost.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:09.54
[36mINFO[0m[0108] Taking snapshot of full filesystem...        
[36mINFO[0m[0117] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0117] ignoring socket dotnet-diagnostic-138-283133-socket, not adding to tar 
[36mINFO[0m[0117] ignoring socket dotnet-diagnostic-168-283413-socket, not adding to tar 
[36mINFO[0m[0119] Pushing layer gcr.io/deliverymachine/cache:f6bba4923d86afacfa069a78bd7eefc0bfa5ae746751ace5e5bc70f088e7a63b to cache now 
2019/11/05 15:16:26 pushed blob: sha256:27118a7105ac77d9d70db64bf48e3e0b88d20d0ab2cf9d4bcb06f1e1c0e2c31a
2019/11/05 15:16:26 pushed blob: sha256:606b23acf08925f544775bb6c0d766db0dc037b0fdbd592cb7d50163c11b0744
2019/11/05 15:16:28 gcr.io/deliverymachine/cache:e35b432812ee4631bc04ce016fcb3c7788da13405466e0bd5db115330a0bd3b5: digest: sha256:99a7ec1cf848e3d9d605c1489c0a29b5fc67afd605bf1fe54832281469608d02 size: 430
2019/11/05 15:16:28 pushed blob: sha256:6d211e8878d7574b112940f44713e99f8d81ffb211e4f44446dcd1b28416d8ae
2019/11/05 15:16:30 gcr.io/deliverymachine/cache:f6bba4923d86afacfa069a78bd7eefc0bfa5ae746751ace5e5bc70f088e7a63b: digest: sha256:d86a808ec674119da9bf74d72fcd004bd0d926b8cbedc9fd7036d2c4e30037f4 size: 429
[36mINFO[0m[0127] Storing source image from stage 1 at path /kaniko/stages/1 
[36mINFO[0m[0209] Deleting filesystem...                       
[36mINFO[0m[0211] Base image from previous stage 1 found, using saved tar at path /kaniko/stages/1 
[36mINFO[0m[0213] Checking for cached layer gcr.io/deliverymachine/cache:2eaf832649fc05d0c96f6f40217df18f178185e1d74f26cfcb5a32c16df46df2... 
[36mINFO[0m[0214] No cached layer found for cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0214] Unpacking rootfs as cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish requires it. 
[36mINFO[0m[0231] Taking snapshot of full filesystem...        
[36mINFO[0m[0243] RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0243] cmd: /bin/sh                                 
[36mINFO[0m[0243] args: [-c dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 31.13 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 28.67 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 2.86 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
  LunchUp.Model -> /src/LunchUp.Backend/LunchUp.Model/bin/Release/netcoreapp3.0/LunchUp.Model.dll
  LunchUp.Core -> /src/LunchUp.Backend/LunchUp.Core/bin/Release/netcoreapp3.0/LunchUp.Core.dll
  LunchUp.WebHost -> /src/LunchUp.Backend/LunchUp.WebHost/bin/Release/netcoreapp3.0/LunchUp.WebHost.dll
  LunchUp.WebHost -> /app/publish/
[36mINFO[0m[0247] Taking snapshot of full filesystem...        
[36mINFO[0m[0251] ignoring socket dotnet-diagnostic-246-297592-socket, not adding to tar 
[36mINFO[0m[0254] Pushing layer gcr.io/deliverymachine/cache:2eaf832649fc05d0c96f6f40217df18f178185e1d74f26cfcb5a32c16df46df2 to cache now 
2019/11/05 15:18:41 pushed blob: sha256:126098696f2df7e72c70e0806497f3b7107454e62ab2bec792d96d1147386543
2019/11/05 15:18:45 pushed blob: sha256:01369897e17a7bee332c4d127b79c67e999970604794cdf0482a113a4ad15d27
2019/11/05 15:18:46 gcr.io/deliverymachine/cache:2eaf832649fc05d0c96f6f40217df18f178185e1d74f26cfcb5a32c16df46df2: digest: sha256:25b1a78a373ca179a2887343435ad44c996b39c295eef080be0024032d57aa8e size: 429
[36mINFO[0m[0263] Storing source image from stage 2 at path /kaniko/stages/2 
[36mINFO[0m[0287] Deleting filesystem...                       
[36mINFO[0m[0292] Base image from previous stage 0 found, using saved tar at path /kaniko/stages/0 
[36mINFO[0m[0293] Skipping unpacking as no commands require it. 
[36mINFO[0m[0293] Taking snapshot of full filesystem...        
[36mINFO[0m[0302] WORKDIR /app                                 
[36mINFO[0m[0302] cmd: workdir                                 
[36mINFO[0m[0302] Changed working directory to /app            
[36mINFO[0m[0302] Creating directory /app                      
[36mINFO[0m[0302] Taking snapshot of files...                  
[36mINFO[0m[0302] COPY --from=publish /app/publish .           
[36mINFO[0m[0302] Taking snapshot of files...                  
[36mINFO[0m[0303] ENTRYPOINT ["dotnet", "LunchUp.WebHost.dll"] 
[36mINFO[0m[0303] No files changed in this command, skipping snapshotting. 
2019/11/05 15:19:26 existing blob: sha256:68f6aee67b9130df079abf2476334ad9474e116c69efedd19e272bbff3643971
2019/11/05 15:19:26 existing blob: sha256:8d691f585fa8cec0eba196be460cfaffd69939782d6162986c3e0c5225d54f02
2019/11/05 15:19:26 existing blob: sha256:a9e6ceefc5a08dc7b1b04a1105c47e00e9340349177009bc8926571ee8a39204
2019/11/05 15:19:26 existing blob: sha256:7a6b64767b0b4ec3bb235712bc93f6cada4812dbfec432d98ca9c485f9ce2ea8
2019/11/05 15:19:26 existing blob: sha256:9526604e089d8d4aa947f34e52a14ac8793232dd181022932f3c15291c5cd3af
2019/11/05 15:19:29 pushed blob: sha256:2aeaf9a557b342a5b7a25b97aa86f2bf6660f517186b0a12901d8fdd3979f024
2019/11/05 15:19:29 pushed blob: sha256:e34a6eb0909d4ce60f0fa5fa956c052e8ebfa48ac34bfbc61a3260a8eaf65cc8
2019/11/05 15:19:30 pushed blob: sha256:81bd7e5722ab6fbb88d1d9e618ce1567baf63d29adef3a8ac269b5eecc188dd6
2019/11/05 15:19:32 pushed blob: sha256:1bf5d6aa0a1e3fa9963314b887c1351b8f4d2cba758791ac476672109d687dfe
2019/11/05 15:19:34 gcr.io/deliverymachine/lunchup-backend:0.0.18: digest: sha256:f0ded7fbed267deb8153650a77e9946cb794aa949d1b44e60d5bba949c1176ea size: 1572

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/lunchup-backend to an unshallow repository
Generating change log from git ref 175f140aa38032c402a493ceb2bcc2c133847cf3 => 48b6169440e9c71f3dc9dc361631f9335430dfd9
WARNING: No release found for DevOpsCamp2019/LunchUp-Backend and tag v0.0.18 so creating a new release
Updated the release information at https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.0.18
generated: /workspace/source/charts/lunchup-backend/templates/release.yaml
Created Release lunchup-backend-0-0-18 resource in namespace **
Updating PipelineActivity devopscamp2019-lunchup-backend-master-18 with version 0.0.18
Updated PipelineActivities devopscamp2019-lunchup-backend-master-18 with release notes URL: https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.0.18

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file lunchup-backend-0.0.18.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32mdevopscamp2019-lunchup-backend-bhvqm-18[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
Promoting app lunchup-backend version 0.0.18 to namespace **-staging
Created Pull Request: https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
Added label updatebot to Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
WARNING: Failed to query the Pull Request last commit status for https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 ref 67489149652817ed061d18c8b85653dca2c2d9d9 Could not find a status for repository DevOpsCamp2019/environment-deliverymachine-one-staging with ref 67489149652817ed061d18c8b85653dca2c2d9d9
WARNING: Failed to query the Pull Request last commit status for https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 ref 67489149652817ed061d18c8b85653dca2c2d9d9 Could not find a status for repository DevOpsCamp2019/environment-deliverymachine-one-staging with ref 67489149652817ed061d18c8b85653dca2c2d9d9
WARNING: Failed to query the Pull Request last commit status for https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 ref 67489149652817ed061d18c8b85653dca2c2d9d9 Could not find a status for repository DevOpsCamp2019/environment-deliverymachine-one-staging with ref 67489149652817ed061d18c8b85653dca2c2d9d9
WARNING: Failed to query the Pull Request last commit status for https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 ref 67489149652817ed061d18c8b85653dca2c2d9d9 Could not find a status for repository DevOpsCamp2019/environment-deliverymachine-one-staging with ref 67489149652817ed061d18c8b85653dca2c2d9d9
WARNING: Failed to query the Pull Request last commit status for https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 ref 67489149652817ed061d18c8b85653dca2c2d9d9 Could not find a status for repository DevOpsCamp2019/environment-deliverymachine-one-staging with ref 67489149652817ed061d18c8b85653dca2c2d9d9
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21
Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/21 is merged at sha a90f538c915cf92f30bd4e3315fee37ae30624e4
Pull Request merged but we are not waiting for the update pipeline to complete!
