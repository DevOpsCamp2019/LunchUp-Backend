
Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-xmv9c[0m
{"level":"warn","ts":1573205400.0096915,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1573205400.0102024,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-pcpsx[0m
{"level":"warn","ts":1573205401.3890967,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1573205401.3904328,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-devopscamp2019-lunchup-backend-mxcck[0m
{"level":"warn","ts":1573205416.4578643,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1573205417.7251759,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/DevOpsCamp2019/LunchUp-Backend.git @ v0.1.31 in path /workspace/source"}

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:6e762fe31c07cd13696610968f62dff27069d4e8
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
ERROR: logging before flag.Parse: E1108 09:30:18.898774      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1108 09:30:18.901686      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/11/08 09:30:18 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:803b70d9de2c57a168af4cc7d44e77a9c0591b49ce2af73d50c344aa22048eda: no such file or directory 
[36mINFO[0m[0001] Downloading base image mcr.microsoft.com/dotnet/core/aspnet:3.0-buster-slim 
2019/11/08 09:30:19 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] WORKDIR /app                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /app            
[36mINFO[0m[0002] Creating directory /app                      
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] EXPOSE 80                                    
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 80/tcp                  
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 443                                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 443/tcp                 
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Storing source image from stage 0 at path /kaniko/stages/0 
[36mINFO[0m[0022] Deleting filesystem...                       
[36mINFO[0m[0022] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/08 09:30:41 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0023] Error while retrieving image from cache: getting file info: stat /workspace/sha256:65c0187e27b42bc45ea5ef98226c7ef37d1b706e10031ddce377bf6da3dcd9aa: no such file or directory 
[36mINFO[0m[0023] Downloading base image mcr.microsoft.com/dotnet/core/sdk:3.0-buster 
2019/11/08 09:30:41 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0023] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0023] Checking for cached layer gcr.io/deliverymachine/cache:d0ffa5f8d1a9ccb9b2cb3bbce018b65834989daef04bba437d70eb1def9e5fb0... 
[36mINFO[0m[0024] Using caching version of cmd: RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0024] Using files from context: [/workspace/source] 
[36mINFO[0m[0024] Checking for cached layer gcr.io/deliverymachine/cache:a37b89d44d0e4e55f9ce04c343a4f7fa14be0995b3a5cb3b25fe61b815e88991... 
[36mINFO[0m[0025] No cached layer found for cmd RUN dotnet test 
[36mINFO[0m[0025] Unpacking rootfs as cmd RUN dotnet test requires it. 
[36mINFO[0m[0053] Taking snapshot of full filesystem...        
[36mINFO[0m[0062] ENV COMPlus_EnableDiagnostics=0              
[36mINFO[0m[0062] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0062] WORKDIR /src                                 
[36mINFO[0m[0062] cmd: workdir                                 
[36mINFO[0m[0062] Changed working directory to /src            
[36mINFO[0m[0062] Creating directory /src                      
[36mINFO[0m[0062] Taking snapshot of files...                  
[36mINFO[0m[0062] Using files from context: [/workspace/source/src/LunchUp.Backend] 
[36mINFO[0m[0062] COPY ["src/LunchUp.Backend/", "LunchUp.Backend/"] 
[36mINFO[0m[0062] Taking snapshot of files...                  
[36mINFO[0m[0062] RUN dotnet restore "LunchUp.Backend/LunchUp.Backend.sln" 
[36mINFO[0m[0062] Found cached layer, extracting to filesystem 
[36mINFO[0m[0072] Taking snapshot of files...                  
[36mINFO[0m[0085] Using files from context: [/workspace/source] 
[36mINFO[0m[0085] COPY . .                                     
[36mINFO[0m[0085] Taking snapshot of files...                  
[36mINFO[0m[0085] WORKDIR "/src/LunchUp.Backend"               
[36mINFO[0m[0085] cmd: workdir                                 
[36mINFO[0m[0085] Changed working directory to /src/LunchUp.Backend 
[36mINFO[0m[0085] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0085] RUN dotnet test                              
[36mINFO[0m[0085] cmd: /bin/sh                                 
[36mINFO[0m[0085] args: [-c dotnet test]                       
Test run for /src/LunchUp.Backend/LunchUp.Test/bin/Debug/netcoreapp3.0/LunchUp.Test.dll(.NETCoreApp,Version=v3.0)
Microsoft (R) Test Execution Command Line Tool Version 16.3.0
Copyright (c) Microsoft Corporation.  All rights reserved.

Starting test execution, please wait...

A total of 1 test files matched the specified pattern.

Test Run Successful.
Total tests: 10
     Passed: 10
 Total time: 3.9496 Seconds
[36mINFO[0m[0099] Taking snapshot of full filesystem...        
[36mINFO[0m[0104] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0104] ignoring socket dotnet-diagnostic-96-5676632-socket, not adding to tar 
[36mINFO[0m[0104] ignoring socket dotnet-diagnostic-66-5676304-socket, not adding to tar 
[36mINFO[0m[0107] RUN dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build 
[36mINFO[0m[0107] cmd: /bin/sh                                 
[36mINFO[0m[0107] args: [-c dotnet build "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/build] 
[36mINFO[0m[0107] Pushing layer gcr.io/deliverymachine/cache:a37b89d44d0e4e55f9ce04c343a4f7fa14be0995b3a5cb3b25fe61b815e88991 to cache now 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 35.94 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 40 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 5.23 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
2019/11/08 09:32:11 pushed blob: sha256:8ad8a3e58ee6bef6d3c31253349e58d6fdc1366eaba7c887a7380526021fc1ce
  LunchUp.Model -> /app/build/LunchUp.Model.dll
  LunchUp.Core -> /app/build/LunchUp.Core.dll
2019/11/08 09:32:16 pushed blob: sha256:d3fe958bd7843d4ecbe6a02a4ca54796087385885571ede2a2594699add1e681
  LunchUp.WebHost -> /app/build/LunchUp.WebHost.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:09.77
[36mINFO[0m[0117] Taking snapshot of full filesystem...        
[36mINFO[0m[0118] Adding whiteout for /tmp/.dotnet/shm/session1/cdf90d7caf39454084db9f185705973b 
[36mINFO[0m[0118] Adding whiteout for /tmp/VBCSCompiler/AnalyzerAssemblyLoader/cdf90d7caf39454084db9f185705973b 
2019/11/08 09:32:17 gcr.io/deliverymachine/cache:a37b89d44d0e4e55f9ce04c343a4f7fa14be0995b3a5cb3b25fe61b815e88991: digest: sha256:6e5092e35c5f97c39bcd78e1bc4e7d30c7f679b9b92863d0cb9d43dab9bb7e6f size: 429
[36mINFO[0m[0123] ignoring socket dotnet-diagnostic-202-5678508-socket, not adding to tar 
[36mINFO[0m[0123] ignoring socket dotnet-diagnostic-234-5678882-socket, not adding to tar 
[36mINFO[0m[0123] ignoring socket g+DM1dBf3hsd22AO8JuBabg4ChjyflqwMaiOYpIurSs, not adding to tar 
[36mINFO[0m[0124] Pushing layer gcr.io/deliverymachine/cache:c23d486988247120a131b96d67356a0a57d3e1570c81b71a22b9169b29280d3e to cache now 
2019/11/08 09:32:27 pushed blob: sha256:8b8aebf3c905282d3cb35f24aac0bf58b5405ff3cdc6c2ab4e7546cb8f61a493
2019/11/08 09:32:30 pushed blob: sha256:146415b439f7cbbdff0de2e2f1288078850d02f7f3b69a752047047916233a3f
2019/11/08 09:32:31 gcr.io/deliverymachine/cache:c23d486988247120a131b96d67356a0a57d3e1570c81b71a22b9169b29280d3e: digest: sha256:f536f95b6fc9ed81be298521051ba451eec1346d6cc624f9f72b78d7110f5347 size: 429
[36mINFO[0m[0132] Storing source image from stage 1 at path /kaniko/stages/1 
[36mINFO[0m[0196] Deleting filesystem...                       
[36mINFO[0m[0202] Base image from previous stage 1 found, using saved tar at path /kaniko/stages/1 
[36mINFO[0m[0204] Checking for cached layer gcr.io/deliverymachine/cache:0b7e0a70d1e7e6cdc64538469fc9377bc39f5d6acdb65a98274672f30e16564e... 
[36mINFO[0m[0205] No cached layer found for cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0205] Unpacking rootfs as cmd RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish requires it. 
[36mINFO[0m[0227] Taking snapshot of full filesystem...        
[36mINFO[0m[0243] RUN dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish 
[36mINFO[0m[0243] cmd: /bin/sh                                 
[36mINFO[0m[0243] args: [-c dotnet publish "LunchUp.WebHost/LunchUp.WebHost.csproj" -c Release -o /app/publish] 
Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 27.26 ms for /src/LunchUp.Backend/LunchUp.Core/LunchUp.Core.csproj.
  Restore completed in 31.53 ms for /src/LunchUp.Backend/LunchUp.Model/LunchUp.Model.csproj.
  Restore completed in 2.83 ms for /src/LunchUp.Backend/LunchUp.WebHost/LunchUp.WebHost.csproj.
  LunchUp.Model -> /src/LunchUp.Backend/LunchUp.Model/bin/Release/netcoreapp3.0/LunchUp.Model.dll
  LunchUp.Core -> /src/LunchUp.Backend/LunchUp.Core/bin/Release/netcoreapp3.0/LunchUp.Core.dll
  LunchUp.WebHost -> /src/LunchUp.Backend/LunchUp.WebHost/bin/Release/netcoreapp3.0/LunchUp.WebHost.dll
  LunchUp.WebHost -> /app/publish/
[36mINFO[0m[0247] Taking snapshot of full filesystem...        
[36mINFO[0m[0253] ignoring socket dotnet-diagnostic-305-5692125-socket, not adding to tar 
[36mINFO[0m[0255] Pushing layer gcr.io/deliverymachine/cache:0b7e0a70d1e7e6cdc64538469fc9377bc39f5d6acdb65a98274672f30e16564e to cache now 
2019/11/08 09:34:38 pushed blob: sha256:05ab23093155ff3dc2fb38db9216ed6041915fc9a0f92efe5f3ef9c60c1ae305
2019/11/08 09:34:42 pushed blob: sha256:4138ede1a78e3b8899d5b385f7159ed14ecbf1c1cdd88f473b267b3496da9e1e
2019/11/08 09:34:43 gcr.io/deliverymachine/cache:0b7e0a70d1e7e6cdc64538469fc9377bc39f5d6acdb65a98274672f30e16564e: digest: sha256:c9ab53391486e4e6b4a84c82f025e4bfe1dc7de7424600cd7182ebb23569a577 size: 429
[36mINFO[0m[0264] Storing source image from stage 2 at path /kaniko/stages/2 
[36mINFO[0m[0326] Deleting filesystem...                       
[36mINFO[0m[0338] Base image from previous stage 0 found, using saved tar at path /kaniko/stages/0 
[36mINFO[0m[0340] Skipping unpacking as no commands require it. 
[36mINFO[0m[0340] Taking snapshot of full filesystem...        
[36mINFO[0m[0340] WORKDIR /app                                 
[36mINFO[0m[0340] cmd: workdir                                 
[36mINFO[0m[0340] Changed working directory to /app            
[36mINFO[0m[0340] Creating directory /app                      
[36mINFO[0m[0340] Taking snapshot of files...                  
[36mINFO[0m[0340] COPY --from=publish /app/publish .           
[36mINFO[0m[0340] Taking snapshot of files...                  
[36mINFO[0m[0341] ENTRYPOINT ["dotnet", "LunchUp.WebHost.dll"] 
[36mINFO[0m[0341] No files changed in this command, skipping snapshotting. 
2019/11/08 09:36:00 existing blob: sha256:a9e6ceefc5a08dc7b1b04a1105c47e00e9340349177009bc8926571ee8a39204
2019/11/08 09:36:00 existing blob: sha256:9526604e089d8d4aa947f34e52a14ac8793232dd181022932f3c15291c5cd3af
2019/11/08 09:36:00 existing blob: sha256:68f6aee67b9130df079abf2476334ad9474e116c69efedd19e272bbff3643971
2019/11/08 09:36:00 existing blob: sha256:8d691f585fa8cec0eba196be460cfaffd69939782d6162986c3e0c5225d54f02
2019/11/08 09:36:00 existing blob: sha256:7a6b64767b0b4ec3bb235712bc93f6cada4812dbfec432d98ca9c485f9ce2ea8
2019/11/08 09:36:04 pushed blob: sha256:f9d8b2576cab0e730db95d8ed3a5a15b6d9c59cf42ddaac74ecdf6b9e6fd183a
2019/11/08 09:36:04 pushed blob: sha256:9804ee8a5879ae73fcf27ef5bff317d814f57ad05bef47cf969c442695889495
2019/11/08 09:36:04 pushed blob: sha256:37cf2d2b69ebb92de2546513f89fd3f30341452b1beac24fdc191d82c4b695ea
2019/11/08 09:36:06 pushed blob: sha256:b99ec97ba0bfde248b4331a5c072c6fdf22cb5d5847afa8aa04c060759491bcc
2019/11/08 09:36:08 gcr.io/deliverymachine/lunchup-backend:0.1.31: digest: sha256:d03fd3d11a1b751e865ded132cfbbe27c1003ceb34bc5023e45e348225d3ef4f size: 1572

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/lunchup-backend to an unshallow repository
Generating change log from git ref acb69faac43d9e6112823bfcc2636d8fa858a206 => 10df6478bec1f6e6623a9406e0794040785709b1
WARNING: Failed to enrich commit 6e762fe31c07cd13696610968f62dff27069d4e8 with issues: users.jenkins.io "x-0" already exists
WARNING: Failed to enrich commit 6e762fe31c07cd13696610968f62dff27069d4e8 with issues: users.jenkins.io "x-0" already exists
Finding issues in commit messages using git format
WARNING: No release found for DevOpsCamp2019/LunchUp-Backend and tag v0.1.31 so creating a new release
Updated the release information at https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.1.31
generated: /workspace/source/charts/lunchup-backend/templates/release.yaml
Created Release lunchup-backend-0-1-31 resource in namespace **
Updating PipelineActivity devopscamp2019-lunchup-backend-master-7 with version 0.1.31
Updated PipelineActivities devopscamp2019-lunchup-backend-master-7 with release notes URL: https://github.com/DevOpsCamp2019/LunchUp-Backend/releases/tag/v0.1.31

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file lunchup-backend-0.1.31.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32mdevopscamp2019-lunchup-backend-rbv7r-7[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Promoting app lunchup-backend version 0.1.31 to namespace **-staging
Created Pull Request: https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
Added label updatebot to Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
got git provider status pending from PR https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73
Pull Request https://github.com/DevOpsCamp2019/environment-deliverymachine-one-staging/pull/73 is merged at sha 5663ab7ce9ea6904087c682cc5786e6d26dee49f
Pull Request merged but we are not waiting for the update pipeline to complete!
